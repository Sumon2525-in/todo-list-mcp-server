# üìã MCP Todo List Server - Tutorial Completo

<div align="center">

![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![Node.js](https://img.shields.io/badge/Node.js-43853D?style=for-the-badge&logo=node.js&logoColor=white)
![Zod](https://img.shields.io/badge/Zod-FF4785?style=for-the-badge&logo=zod&logoColor=white)
![MCP](https://img.shields.io/badge/MCP-Protocol-blue?style=for-the-badge)

</div>

## üéØ O que √© este projeto?

Este √© um **servidor MCP (Model Context Protocol)** completo que implementa um sistema de gerenciamento de tarefas (Todo List) com valida√ß√£o robusta usando **TypeScript** e **Zod**. O servidor se integra diretamente com o **Claude Desktop**, permitindo que voc√™ gerencie suas tarefas atrav√©s de conversas naturais com o Claude.

### üåü Por que usar MCP?

O **Model Context Protocol** √© um protocolo desenvolvido pela Anthropic que permite aos assistentes de IA se conectarem com ferramentas e recursos externos de forma padronizada. Com este projeto, voc√™ pode:

- ü§ñ **Conversar naturalmente** com Claude sobre suas tarefas
- üîß **Executar opera√ß√µes** diretamente atrav√©s do chat
- üìä **Obter insights** inteligentes sobre sua produtividade
- üõ°Ô∏è **Garantir valida√ß√£o** robusta de todos os dados

## ‚ú® Funcionalidades

### üõ†Ô∏è **CRUD Completo**
- ‚úÖ **Criar** tarefas com t√≠tulo, descri√ß√£o, prioridade e tags
- üìñ **Listar** tarefas com filtros avan√ßados e pagina√ß√£o
- ‚úèÔ∏è **Atualizar** tarefas (marcar como conclu√≠da, alterar prioridade, etc.)
- üóëÔ∏è **Deletar** tarefas espec√≠ficas
- üîç **Buscar** tarefas por texto

### üìä **Recursos Inteligentes**
- üìà **Estat√≠sticas** em tempo real (total, conclu√≠das, pendentes)
- üìã **Resumos** personalizados das tarefas
- üéØ **Ajuda de prioriza√ß√£o** baseada em IA
- üí° **Insights de produtividade** com an√°lises detalhadas

### üîí **Valida√ß√£o Robusta**
- ‚úÖ **Zod schemas** para valida√ß√£o em runtime
- üõ°Ô∏è **Type safety** completa (compile-time + runtime)
- üö® **Mensagens de erro** claras e espec√≠ficas
- üßπ **Sanitiza√ß√£o** autom√°tica de dados

### üè∑Ô∏è **Organiza√ß√£o Avan√ßada**
- üéØ **Prioridades** (baixa, m√©dia, alta)
- üè∑Ô∏è **Tags** personalizadas para categoriza√ß√£o
- üìÖ **Timestamps** autom√°ticos (cria√ß√£o, conclus√£o)
- üîÑ **Estados** (pendente, conclu√≠da)

## üèóÔ∏è Arquitetura do Projeto

```
src/
‚îú‚îÄ‚îÄ schemas/                    # üìã Valida√ß√µes Zod
‚îÇ   ‚îú‚îÄ‚îÄ common.schemas.ts      # Schemas base (UUID, Date, etc.)
‚îÇ   ‚îî‚îÄ‚îÄ todo.schemas.ts        # Schemas espec√≠ficos de tarefas
‚îú‚îÄ‚îÄ services/                   # üîß L√≥gica de neg√≥cio
‚îÇ   ‚îî‚îÄ‚îÄ todo.services.ts       # Gerenciamento das tarefas
‚îú‚îÄ‚îÄ utils/                      # üõ†Ô∏è Utilit√°rios
‚îÇ   ‚îî‚îÄ‚îÄ validation.ts          # Helpers de valida√ß√£o
‚îú‚îÄ‚îÄ types.ts                    # üìù Tipos TypeScript
‚îú‚îÄ‚îÄ server.ts                   # üñ•Ô∏è Servidor MCP principal
‚îî‚îÄ‚îÄ index.ts                    # üöÄ Ponto de entrada
```

### üîÑ **Fluxo de Dados**

```mermaid
graph TB
    A[Claude Desktop] --> B[MCP Server]
    B --> C[Validation Layer - Zod]
    C --> D[Todo Service]
    D --> E[In-Memory Storage]
    E --> D
    D --> C
    C --> B
    B --> A
```

## üìã Pr√©-requisitos

- **Node.js** 18+ instalado
- **Claude Desktop** (vers√£o mais recente)
- **npm** ou **yarn**
- Editor de c√≥digo (**VS Code** recomendado)

## üöÄ Instala√ß√£o Passo a Passo

### **Passo 1: Clonar/Baixar o Projeto**

```bash
# Se usando Git
git clone <seu-repositorio>
cd todo-list-mcp-server

# Ou criar nova pasta
mkdir todo-list-mcp-server
cd todo-list-mcp-server
```

### **Passo 2: Instalar Depend√™ncias**

```bash
# Instalar todas as depend√™ncias
npm install

# Verificar se instalou corretamente
npm list --depth=0
```

**Depend√™ncias principais:**
- `@modelcontextprotocol/sdk` - SDK oficial do MCP
- `zod` - Valida√ß√£o de schemas
- `typescript` - Linguagem TypeScript
- `tsx` - Executor TypeScript para desenvolvimento

### **Passo 3: Compilar o Projeto**

```bash
# Compilar TypeScript para JavaScript
npm run build

# Verificar se compilou corretamente
ls dist/
```

### **Passo 4: Testar o Servidor**

```bash
# Testar se o servidor inicia corretamente
npm start
```

**Voc√™ deve ver:**
```
üîß Inicializando MCP Todo Server com Zod...
üöÄ MCP Todo Server com Zod iniciado
‚úÖ Valida√ß√£o robusta ativada
üîí Type safety garantida
```

Pressione `Ctrl+C` para parar.

## ‚öôÔ∏è Configura√ß√£o do Claude Desktop

### **Passo 1: Localizar Arquivo de Configura√ß√£o**

**Windows:**
```
%APPDATA%\Claude\claude_desktop_config.json
```

**macOS:**
```
~/Library/Application Support/Claude/claude_desktop_config.json
```

**Linux:**
```
~/.config/Claude/claude_desktop_config.json
```

### **Passo 2: Criar/Editar Configura√ß√£o**

**‚ö†Ô∏è IMPORTANTE:** Use o **caminho absoluto** do seu projeto!

```bash
# Descobrir o caminho absoluto
# Windows:
echo %cd%

# macOS/Linux:
pwd
```

**Exemplo de configura√ß√£o:**
```json
{
  "mcpServers": {
    "todo-server": {
      "command": "node",
      "args": ["C:/Users/SeuUsuario/caminho/para/todo-list-mcp-server/dist/index.js"]
    }
  }
}
```

### **Passo 3: Reiniciar Claude Desktop**

1. **Feche completamente** o Claude Desktop
2. **Aguarde 5 segundos**
3. **Abra novamente**

## üéÆ Como Usar

### **1. Comandos B√°sicos**

```bash
# Listar todas as tarefas
"Liste todas as minhas tarefas"

# Criar nova tarefa
"Crie uma tarefa: 'Estudar TypeScript' com prioridade alta"

# Buscar tarefas
"Procure por tarefas que contenham 'estudo'"

# Marcar como conclu√≠da
"Marque a tarefa com ID [uuid] como conclu√≠da"
```

### **2. Comandos Avan√ßados**

```bash
# Criar tarefa completa
"Crie uma tarefa: 'Implementar autentica√ß√£o' com descri√ß√£o 'Adicionar login OAuth', prioridade alta e tags 'backend', 'seguran√ßa'"

# Filtrar por status
"Mostre apenas as tarefas pendentes"

# Filtrar por prioridade
"Liste todas as tarefas de prioridade alta"

# Obter estat√≠sticas
"Mostre as estat√≠sticas das minhas tarefas"
```

### **3. Recursos Inteligentes**

```bash
# Resumo personalizado
"Gere um resumo das minhas tarefas agrupadas por prioridade"

# Ajuda de prioriza√ß√£o
"Me ajude a priorizar minhas tarefas pendentes"

# Insights de produtividade
"Analise minha produtividade e d√™ sugest√µes"
```

## üîß Estrutura dos Dados

### **Modelo de Tarefa**

```typescript
interface Todo {
  id: string;           // UUID √∫nico
  title: string;        // T√≠tulo (1-200 caracteres)
  description?: string; // Descri√ß√£o opcional (max 500 chars)
  completed: boolean;   // Status de conclus√£o
  createdAt: Date;      // Data de cria√ß√£o
  completedAt?: Date;   // Data de conclus√£o (se aplic√°vel)
  priority: 'low' | 'medium' | 'high'; // Prioridade
  tags: string[];       // Tags para organiza√ß√£o (max 10)
}
```

### **Exemplo de Tarefa**

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "title": "Estudar MCP Protocol",
  "description": "Aprender sobre Model Context Protocol com TypeScript e Zod",
  "completed": false,
  "createdAt": "2024-01-15T10:30:00.000Z",
  "priority": "high",
  "tags": ["estudo", "typescript", "mcp"]
}
```

## üõ†Ô∏è Recursos do MCP Implementados

### **1. Resources (Recursos)**
Endpoints read-only para visualizar dados:

| URI | Descri√ß√£o |
|-----|-----------|
| `todo://all` | Lista completa de tarefas |
| `todo://stats` | Estat√≠sticas das tarefas |
| `todo://completed` | Apenas tarefas conclu√≠das |
| `todo://pending` | Apenas tarefas pendentes |

### **2. Tools (Ferramentas)**
Opera√ß√µes que modificam dados:

| Ferramenta | Descri√ß√£o |
|------------|-----------|
| `create_todo` | Criar nova tarefa |
| `update_todo` | Atualizar tarefa existente |
| `delete_todo` | Deletar tarefa |
| `list_todos` | Listar com filtros e pagina√ß√£o |
| `get_todo` | Buscar tarefa por ID |
| `search_todos` | Busca textual |

### **3. Prompts (Templates)**
Templates contextuais para an√°lise:

| Prompt | Descri√ß√£o |
|--------|-----------|
| `todo_summary` | Resumo personalizado |
| `todo_prioritization` | Ajuda de prioriza√ß√£o |
| `productivity_insights` | An√°lise de produtividade |

## üîç Valida√ß√£o com Zod

### **Por que Zod?**

O **Zod** garante que todos os dados sejam v√°lidos tanto em **compile-time** quanto em **runtime**:

```typescript
// ‚ùå SEM Zod - Perigoso
function createTodo(data: any) {
  return {
    title: data.title, // Pode ser undefined, null, ou vazio!
    priority: data.priority, // Pode ser qualquer string!
  };
}

// ‚úÖ COM Zod - Seguro
function createTodo(data: unknown) {
  const validatedData = validateData(CreateTodoSchema, data);
  return {
    title: validatedData.title, // ‚úÖ String v√°lida (1-200 chars)
    priority: validatedData.priority, // ‚úÖ 'low' | 'medium' | 'high'
  };
}
```

### **Schemas Implementados**

```typescript
// Schema base de tarefa
export const TodoSchema = z.object({
  id: UuidSchema,
  title: NonEmptyStringSchema.max(200),
  description: z.string().max(500).optional(),
  completed: z.boolean().default(false),
  createdAt: DateSchema,
  completedAt: DateSchema.optional(),
  priority: z.enum(['low', 'medium', 'high']).default('medium'),
  tags: z.array(z.string().min(1).max(50)).max(10).default([])
});

// Schema para criar tarefa
export const CreateTodoSchema = z.object({
  title: NonEmptyStringSchema.max(200),
  description: z.string().max(500).optional(),
  priority: z.enum(['low', 'medium', 'high']).default('medium'),
  tags: z.array(z.string().min(1).max(50)).max(10).default([])
});
```

## üìä Exemplos de Uso Completos

### **Cen√°rio 1: Gerenciamento de Projeto**

```bash
Usu√°rio: "Crie as seguintes tarefas para meu projeto:
1. 'Setup inicial do projeto' - prioridade alta
2. 'Implementar autentica√ß√£o' - prioridade m√©dia  
3. 'Escrever testes' - prioridade baixa"

Claude: [Cria as 3 tarefas usando a ferramenta create_todo]

Usu√°rio: "Me ajude a priorizar essas tarefas"

Claude: [Usa o prompt todo_prioritization para an√°lise]

Usu√°rio: "Marque a primeira tarefa como conclu√≠da"

Claude: [Usa update_todo para marcar como completed: true]
```

### **Cen√°rio 2: An√°lise de Produtividade**

```bash
Usu√°rio: "Gere um relat√≥rio da minha produtividade"

Claude: [Usa productivity_insights para an√°lise completa]
- Taxa de conclus√£o: 75%
- Tarefas de alta prioridade: 80% conclu√≠das
- Tags mais utilizadas: frontend (60%), backend (40%)
- Sugest√µes de melhoria...

Usu√°rio: "Mostre apenas tarefas pendentes de alta prioridade"

Claude: [Usa list_todos com filtros status=pending, priority=high]
```

## üîß Desenvolvimento e Personaliza√ß√£o

### **Estrutura para Extens√£o**

```typescript
// Adicionar novo campo no schema
export const TodoSchema = z.object({
  // ... campos existentes
  deadline?: z.date().optional(),        // Nova: Data limite
  project?: z.string().optional(),       // Nova: Projeto
  assignee?: z.string().optional(),      // Nova: Respons√°vel
});

// Criar nova ferramenta
{
  name: "set_deadline",
  description: "Definir prazo para tarefa",
  inputSchema: {
    type: "object",
    properties: {
      id: { type: "string", format: "uuid" },
      deadline: { type: "string", format: "date" }
    },
    required: ["id", "deadline"]
  }
}
```

### **Comandos de Desenvolvimento**

```bash
# Desenvolvimento com hot-reload
npm run dev

# Compilar apenas
npm run build

# Validar TypeScript sem compilar
npm run validate

# Testar servidor
npm start
```

## üêõ Troubleshooting

### **Problema 1: "Server disconnected"**

**Causa:** Erro no c√≥digo TypeScript ou depend√™ncias faltando.

**Solu√ß√£o:**
```bash
# 1. Verificar se compila
npm run build

# 2. Testar manualmente
npm start

# 3. Verificar logs
# Windows: %APPDATA%\Claude\logs\
# macOS: ~/Library/Logs/Claude/
```

### **Problema 2: "Cannot find module"**

**Causa:** Caminho incorreto na configura√ß√£o do Claude Desktop.

**Solu√ß√£o:**
```bash
# 1. Verificar caminho absoluto
pwd  # macOS/Linux
echo %cd%  # Windows

# 2. Usar caminho completo na configura√ß√£o
{
  "mcpServers": {
    "todo-server": {
      "command": "node",
      "args": ["/caminho/absoluto/completo/dist/index.js"]
    }
  }
}
```

### **Problema 3: Claude n√£o reconhece ferramentas**

**Causa:** Servidor n√£o carregou ou configura√ß√£o inv√°lida.

**Solu√ß√£o:**
```bash
# 1. Verificar sintaxe JSON
# Use um validador JSON online

# 2. Reiniciar Claude Desktop completamente
# Fechar > Aguardar > Abrir

# 3. Testar comando espec√≠fico
"Use a ferramenta list_todos"
```

### **Problema 4: Erro de valida√ß√£o Zod**

**Causa:** Dados inv√°lidos sendo enviados.

**Solu√ß√£o:**
```typescript
// Verificar schema correspondente
console.log(CreateTodoSchema.parse(data));

// Adicionar logs para debug
console.error('Dados recebidos:', JSON.stringify(data, null, 2));
```

## üìö Conceitos Aprendidos

### **1. MCP Protocol**
- **Resources:** Dados read-only acess√≠veis via URIs
- **Tools:** Opera√ß√µes que modificam estado
- **Prompts:** Templates para intera√ß√£o contextual
- **Comunica√ß√£o:** JSON-RPC via stdio transport

### **2. TypeScript + Zod**
- **Type Safety:** Detec√ß√£o de erros em compile-time
- **Runtime Validation:** Verifica√ß√£o em tempo de execu√ß√£o
- **Schema-First:** Definir estrutura antes da implementa√ß√£o
- **Type Inference:** Tipos autom√°ticos a partir de schemas

### **3. Arquitetura Modular**
- **Separation of Concerns:** Cada arquivo tem responsabilidade espec√≠fica
- **Dependency Injection:** Servi√ßos independentes e test√°veis
- **Error Handling:** Tratamento consistente de erros
- **Validation Layer:** Camada de valida√ß√£o centralizada

## üöÄ Pr√≥ximos Passos

### **1. Funcionalidades Avan√ßadas**
- üíæ **Persist√™ncia:** Adicionar SQLite ou PostgreSQL
- üë• **Multi-usu√°rio:** Sistema de autentica√ß√£o
- üìÖ **Calend√°rio:** Integra√ß√£o com datas e prazos
- üîî **Notifica√ß√µes:** Lembretes autom√°ticos

### **2. Integra√ß√£o**
- üìß **Email:** Criar tarefas via email
- üì± **Mobile:** API REST para aplicativo m√≥vel
- üåê **Web:** Interface web administrativa
- üìä **Analytics:** Dashboards de produtividade

### **3. Qualidade**
- üß™ **Testes:** Unit√°rios e de integra√ß√£o
- üìñ **Documenta√ß√£o:** API docs autom√°tica
- üöÄ **Deploy:** Docker e cloud deployment
- üìà **Monitoring:** Logs e m√©tricas

## üìÑ Licen√ßa

MIT License - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ü§ù Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìû Suporte

- üêõ **Issues:** [GitHub Issues](https://github.com/seu-usuario/todo-list-mcp-server/issues)
- üìñ **Documenta√ß√£o MCP:** [modelcontextprotocol.io](https://modelcontextprotocol.io)
- üí¨ **Discuss√µes:** [GitHub Discussions](https://github.com/seu-usuario/todo-list-mcp-server/discussions)

---

**Desenvolvido com ‚ù§Ô∏è usando TypeScript, Zod e MCP Protocol**

*Este projeto demonstra como criar servidores MCP robustos e type-safe para integra√ß√£o com assistentes de IA.*